#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo 'ğŸ—ï¸ğŸ‘· Styling, testing your project before committing'

# Check Prettier errors
npm run check-prettier ||
(
    echo 'ğŸ‘»ğŸ‘»ğŸ‘»ğŸ‘» Failed Prettier Check ğŸ‘»ğŸ‘»ğŸ‘»ğŸ‘»
        Prettier check failed, please fix the prettier by using: npm run check-prettier'
    false;
)

# Check Eslint errors
npm run check-lint ||
(
    echo 'ğŸ™€ğŸ™€ğŸ™€ğŸ™€ Failed Lint Check ğŸ™€ğŸ™€ğŸ™€ğŸ™€
        Eslint for typescript check failed and please correct the lint errors. (You can run: npm run check-lint to find the lint errors in detail)'
    false;
)

# Check Typescript type errors
npm run check-types ||
(
    echo 'ğŸ¤¯ğŸ¤¯ğŸ¤¯ğŸ¤¯ Failed Type Check ğŸ¤¯ğŸ¤¯ğŸ¤¯ğŸ¤¯
        Typescript check failed, you need to fix the type errors in specific files'
    false;
)

# Check Unit Tests errors
npm test ||
(
    echo 'âŒâŒâŒâŒ Failed Unit Tests Check âŒâŒâŒâŒ
        Unit tests check failed, please fix all the relevent tests cases'
    false;
)

# If everything passes ... this message will be shown to you
echo 'ğŸ’ƒğŸ•ºğŸ’ƒğŸ•º Good day ğŸ’ƒğŸ•ºğŸ’ƒğŸ•º'
